# Бие даалт – Тайлан

## Machine 10 — <Perfection, IP:10.10.11.253>

### 1.) Хост дээрх нээлттэй портуудыг илрүүлэхийн тулд Nmap скан ажиллуул.

![alt text](image.png)

### 2.) /weighted-grade эндпоинтыг шалгахад хэрэглэгчийн оролт хүлээн авдгийг харлаа.

![alt text](image-1.png)

### 3.) Би Submit хүсэлтийг дахин илгээж, энэ удаа BurpSuite ашиглан түүнийг таслан авч шалгана.

///
![alt text](image-3.png)

### 4.) Хүсэлтийг илгээхэд хортой оролтыг хориглож байгааг харлаа. Энэ нь серверийн талд тодорхой шүүлт явагдаж байгааг илтгэнэ. Ихэнхдээ серверийн талд хортой оролтыг шүүхдээ регуляр илэрхийлэл (regex) ашигладаг бөгөөд ийм аргачлал Ruby хэл дээр мөн боломжтой.

![alt text](image-2.png)

### 5.) Үүнийг мэдсэний дараа, оролтын эхэнд хүчинтэй утга тавиад дараагийн мөрөнд payload-оо байрлуулснаар Ruby-ийн оролт шалгалтыг тойрон гарах боломжтой. Таслан авсан хүсэлтээ өөрчилж, payload-аа category1 параметрт оруулахдаа URL-ээр кодолсон байхыг анхаарна. Шинэ мөрний тэмдэгтийг %0A гэсэн URL кодчиллоор гараар оруулна.

![alt text](image-4.png)

### 6.)

![alt text](image-5.png)

### 7.) Урвуу shell авахын тулд бид энэ payload-ийг ашиглана:

![alt text](image-6.png)

### 8.)Энэ payload нь урвуу shell эхлүүлэх командыг оруулж, 10.10.14.2 IP ба 4444 порт руу манай машинтай буцаан холбогдоно. Мөн холболтыг хүлээн авахын тулд Netcat сонсогчийг ажиллуулна:

![alt text](image-7.png)

### 9.) Илүү тогтвортой shell авахын тулд script /dev/null -c /bin/bash командыг ажиллуулна. Энэ команд script програмын дор шинэ shell сесс эхлүүлдэг тул job control болон командын түүх зэрэг интерактив боломжууд зөв ажиллаж, илүү тогтвортой, бүрэн боломжтой орчин бүрдэнэ. Дараа нь /home/susan хавтасаас user flag-ийг уншиж болно.

![alt text](image-8.png)

### 10.) .tables команд users нэртэй хүснэгт байгааг харуулж байна.

![alt text](image-9.png)

### 11.) Mask халдлага нь тодорхой хэв маягт таарах үгсийг үүсгэхэд ашиглагддаг. Энэ нь нууц үгийн урт эсвэл формат мэдэгдэж байхад онцгой үр дүнтэй. Нууц үгийн форматыг мэдсэн тул susan*nasus* гэж эхэлсэн, дараа нь 9 оронтой бүх боломжит тоонуудыг залгасан үгийн жагсаалт бүтээж, тус бүрийг хэшлээд Susan-ийн хэштэй харьцуулна. Санамсаргүй тоо 9 оронтой байх магадлал ~90% гэж үзэж байгаа тул одоогоор 9 оронтой хувилбарууд дээр төвлөрч байна. Hashcat-ын 6 дугаар горимыг (keyspace дахь бүр кандидат үгийг wordlist-ийн үг бүрийн араас залгаж туршдаг) ашиглан Susan-ийн нууц үгийг олж болно.

![alt text](image-10.png)

### 12.)

![alt text](image-11.png)

### 13.)

![alt text](image-12.png)

## Дүгнэлт

### susan нь sudo бүлэгт байсан.

### Нууц үгийн бодлого урьдчилан таамаглахуйц

## Кибер халдлагыг сөрөн тэсвэрлэх зөвлөмж

## Хэрэгцээгүй хэрэглэгчдийг sudo-оос авч, команд-тусгай sudoers ашигла; NOPASSWD ашиглахгүй.
